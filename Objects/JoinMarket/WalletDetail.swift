//
//  WalletDetail.swift
//  FullyNoded
//
//  Created by Peter Denton on 11/22/21.
//  Copyright Â© 2021 Fontaine. All rights reserved.
//

import Foundation
/*
 {
     walletinfo =     {
         accounts =         (
                         {
                 account = 0;
                 "account_balance" = "0.00000000";
                 branches =                 (
                                         {
                         balance = "0.00000000";
                         branch = "external addresses\tm/84'/0'/0'/0\txpub6EQk3R1E7kwqUgxWrnDMi9QEhi3TDamEJubJhkyLZiZivgH2WxHR5hytwhREy3TYXB3vTLNSBQfUk3fFDE3i65krSxNnhb5DegG44Rxegq3";
                         entries =                         (
                                                         {
                                 address = bc1qfgytuv38vj9v8jfe3pqnuvhf8jcyew9v539ls5;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/0";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qdskdrgzzuwlrajpsrvj3svxta3ydcg4tj9vsts;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/1";
                                 labels = "";
                             },
                                                         {
                                 address = bc1q6e642fpesuzjuj64l3z7qlth8pe4mkjtm3h07e;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/2";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qywjw3yzhgdgm7gmzc4rp8fw0smu0rzkn8gmasq;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/3";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qrvf76jvw20538kl70d4ua0s38rjhle8fxa4qct;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/4";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qwz26zd8y9tdsnrv4ll0gfgmp08r9fxju50gq6u;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/0'/0/5";
                                 labels = "";
                             }
                         );
                     },
                                         {
                         balance = "0.00000000";
                         branch = "internal addresses\tm/84'/0'/0'/1\t";
                         entries =                         (
                         );
                     }
                 );
             },
                         {
                 account = 1;
                 "account_balance" = "0.00000000";
                 branches =                 (
                                         {
                         balance = "0.00000000";
                         branch = "external addresses\tm/84'/0'/1'/0\txpub6EyHJ3F4TPVTcbkSSU4yPHmGHRQ8kXFMJ9vHBL2WzUsFk2qJNWrmUpLUW9Gb8zt7DAaRzQ8GY1ZNMCexKwM8FhLuzPE4QNuYGaMScgepDec";
                         entries =                         (
                                                         {
                                 address = bc1q6ehau84ya8u2ky5jq2xlve9ddvwdpyq2sfpjx5;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/0";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qhwf02jrsx77wuhvunjtkte5j8u2ds4mm090yyu;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/1";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qas0nxmr8tgwzxw9dyhyukvrf5n89l2xl80saw6;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/2";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qd4lauj2q43k4skucxatfkpu898skf2ndh652rg;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/3";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qpnck9n43z20lg4r8xx0vutqce23puda38ghh96;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/4";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qt57wrpq42xau22n0xz62mh6j56vvvv0zna87y0;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/1'/0/5";
                                 labels = "";
                             }
                         );
                     },
                                         {
                         balance = "0.00000000";
                         branch = "internal addresses\tm/84'/0'/1'/1\t";
                         entries =                         (
                         );
                     }
                 );
             },
                         {
                 account = 2;
                 "account_balance" = "0.00000000";
                 branches =                 (
                                         {
                         balance = "0.00000000";
                         branch = "external addresses\tm/84'/0'/2'/0\txpub6EQesqFhrf2unTyKK3GXgqq6BxGNRQ7mWuQKWzU4wknKx8cDg5LuNNG69vziRXJaFBF3xBFFaD5yihaSXWBu68qK35L6VoETXqbjP4mxdyN";
                         entries =                         (
                                                         {
                                 address = bc1qa8wrnvyfngzfe4vmd2c8nlpwk4nrh5yzajarcf;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/0";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qf95vkz9nlwalkc3hm6xydl0rf9xlus5qtnrdtx;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/1";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qjn223ja559knfh78s39k78mvenf70t4ec8wum4;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/2";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qlqu73qgg4kapy5e00xs5x6kup6qhwrwzm7yun0;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/3";
                                 labels = "";
                             },
                                                         {
                                 address = bc1q8tkkeggky736s7qmmmej9t4sajfh9xqjzt6wfp;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/4";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qwuulrz7nhxg2sl4zvz8lly0hcy4af9ncj2pz3x;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/2'/0/5";
                                 labels = "";
                             }
                         );
                     },
                                         {
                         balance = "0.00000000";
                         branch = "internal addresses\tm/84'/0'/2'/1\t";
                         entries =                         (
                         );
                     }
                 );
             },
                         {
                 account = 3;
                 "account_balance" = "0.00000000";
                 branches =                 (
                                         {
                         balance = "0.00000000";
                         branch = "external addresses\tm/84'/0'/3'/0\txpub6EdVveGSKt35JwT9qYWBzKtTEpyvn1sy3Vjcqko4c76kTrUQYiQCforXzW27vWS2pzoo1aT1VbEjnxpTTxAekUQJzqd32ZoqY884AKhw3rr";
                         entries =                         (
                                                         {
                                 address = bc1qvujdfucn064qan9r6z8pgvmvhvpgp4tq2ug5j3;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/0";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qcsxvc8d89ynrce5ac3zm8ea3wn7gelznzwgxl3;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/1";
                                 labels = "";
                             },
                                                         {
                                 address = bc1q3xf69mx8vklj760jjak7yaxddc4d0xfgh6e0cl;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/2";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qf9ruqwsynwtufsf6makfa3yfs3x6n5psp0hje7;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/3";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qd5xr3v9rl4wflsc0wdquuazaumyjrdpd6mly4m;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/4";
                                 labels = "";
                             },
                                                         {
                                 address = bc1q737lh7z6qr9k3t3muwtnpferhetf7dxkj6kqt3;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/3'/0/5";
                                 labels = "";
                             }
                         );
                     },
                                         {
                         balance = "0.00000000";
                         branch = "internal addresses\tm/84'/0'/3'/1\t";
                         entries =                         (
                         );
                     }
                 );
             },
                         {
                 account = 4;
                 "account_balance" = "0.00000000";
                 branches =                 (
                                         {
                         balance = "0.00000000";
                         branch = "external addresses\tm/84'/0'/4'/0\txpub6Dw7yf43v5b3aX3XshBmMx4skGJgJGirBZPxS2CzQBKyUvF3oSU8t92bKLefoS9b1hLrMnCk7ysgokbkR3S1b1ftiJj4SUT1DtLge9ZVqEq";
                         entries =                         (
                                                         {
                                 address = bc1qvg2hu73kjfecfkuwcdxwhmwystun5j2r4vvj3s;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/0";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qkdv2zpxjmwn72m648z4ec4gg6rcv4heug3za7m;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/1";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qtexj2egfxf8sgq6n9y2jtgeecqtxn6vqmj2fns;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/2";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qjlc6emq8pl4sg6ed9q00l60k0297ykqlae5z44;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/3";
                                 labels = "";
                             },
                                                         {
                                 address = bc1q8rw6x33jknq5h2zvd8tuwggk3hfewc7amh4gmw;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/4";
                                 labels = "";
                             },
                                                         {
                                 address = bc1qse562zm4aj8tdmmre76xqahmd6prmjaasl9uhe;
                                 amount = "0.00000000";
                                 "hd_path" = "m/84'/0'/4'/0/5";
                                 labels = "";
                             }
                         );
                     },
                                         {
                         balance = "0.00000000";
                         branch = "internal addresses\tm/84'/0'/4'/1\t";
                         entries =                         (
                         );
                     }
                 );
             }
         );
         "total_balance" = "0.00000000";
         "wallet_name" = "JM wallet";
     };
     walletname = "FullyNoded-yJyq5ibQwT.jmdat";
 }
 */

public struct WalletDetail: CustomStringConvertible {
    let walletinfo: [String:Any]
    var accounts:[Account] = []
    let walletname: String
    
    init(_ dictionary: [String: Any]) {
        walletinfo = dictionary["walletinfo"] as! [String:Any]
        walletname = dictionary["walletname"] as! String
        let accountArray = walletinfo["accounts"] as! [[String:Any]]
        for account_ in accountArray {
            accounts.append(Account(account_))
        }
    }
    
    public var description: String {
        return ""
    }
}

public struct Account: CustomStringConvertible {
    let accountNumber: Int
    let account_balance: Double
    var branches: [Branch] = []
    
    init(_ dictionary: [String: Any]) {
        accountNumber = Int(dictionary["account"] as! String)!
        account_balance = Double(dictionary["account_balance"] as! String)!
        let branches_ = dictionary["branches"] as! [[String:Any]]
        for branch in branches_ {
            branches.append(Branch(branch))
        }
        
    }
    
    public var description: String {
        return ""
    }
}

/*
 {
balance = "0.00000000";
branch = "external addresses\tm/84'/0'/4'/0\txpub6Dw7yf43v5b3aX3XshBmMx4skGJgJGirBZPxS2CzQBKyUvF3oSU8t92bKLefoS9b1hLrMnCk7ysgokbkR3S1b1ftiJj4SUT1DtLge9ZVqEq";
entries =                         (
                 {
address = bc1qvg2hu73kjfecfkuwcdxwhmwystun5j2r4vvj3s;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/0";
labels = "";
},
                 {
address = bc1qkdv2zpxjmwn72m648z4ec4gg6rcv4heug3za7m;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/1";
labels = "";
},
                 {
address = bc1qtexj2egfxf8sgq6n9y2jtgeecqtxn6vqmj2fns;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/2";
labels = "";
},
                 {
address = bc1qjlc6emq8pl4sg6ed9q00l60k0297ykqlae5z44;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/3";
labels = "";
},
                 {
address = bc1q8rw6x33jknq5h2zvd8tuwggk3hfewc7amh4gmw;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/4";
labels = "";
},
                 {
address = bc1qse562zm4aj8tdmmre76xqahmd6prmjaasl9uhe;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/5";
labels = "";
}
);
}
 */

public struct Branch: CustomStringConvertible {
    let balance: Double
    let branch: String
    var entries: [Entry] = []
    
    init(_ dictionary: [String: Any]) {
        balance = Double(dictionary["balance"] as! String)!
        branch = dictionary["branch"] as! String
        let entries_ = dictionary["entries"] as! [[String:Any]]
        for entry in entries_ {
            entries.append(Entry(entry))
        }
    }
    
    public var description: String {
        return ""
    }
}

/*
 {
address = bc1qvg2hu73kjfecfkuwcdxwhmwystun5j2r4vvj3s;
amount = "0.00000000";
"hd_path" = "m/84'/0'/4'/0/0";
labels = "";
}
 */

public struct Entry: CustomStringConvertible {
    let address: String
    let amount: Double
    let hd_path: String
    let label: String
    
    init(_ dictionary: [String: Any]) {
        address = dictionary["address"] as! String
        amount = Double(dictionary["amount"] as! String)!
        hd_path = dictionary["hd_path"] as! String
        label = dictionary["label"] as! String
    }
    
    public var description: String {
        return ""
    }
}
